const{watch:watch,src:src,dest:dest}=require("gulp"),if_=require("gulp-if"),sourcemaps=require("gulp-sourcemaps"),less=require("gulp-less"),{resolve:resolve}=require("path"),isDev=()=>!!process.env.DEBUG,lessFolder="ckanext/comments/assets/less",cssFolder="ckanext/comments/assets/css",buildTask=()=>src([resolve(__dirname,lessFolder,"comments-thread.less")]).pipe(if_(isDev,sourcemaps.init())).pipe(less()).pipe(if_(isDev,sourcemaps.write())).pipe(dest(resolve(__dirname,cssFolder))),watchTask=()=>watch(resolve(__dirname,lessFolder,"*.less"),{ignoreInitial:!1},buildTask);exports.build=buildTask,exports.watch=watchTask;